var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
Object.defineProperty(exports, "__esModule", { value: true });
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
    };
    GameConfig.width = 750;
    GameConfig.height = 1334;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        this.starArr = [];
        this.row = 10;
        this.clos = 10;
        this.commStar = [];
        this.IMGARR = ['red', 'blue', 'gay', 'yellow', 'green'];
        this.gameEnd = false; //是否游戏结束
        this.roleArr = []; //角色数组
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        Laya.Browser.window.scX = 375 / Laya.Browser.width;
        Laya.stage.width = 750 * Laya.Browser.window.scX;
        Laya.stage.height = 1334 * Laya.Browser.window.scX;
        Laya.stage.bgColor = '#fff';
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
        console.log('显示了');
        this.initRoleBox();
    };
    /*************正式使用**************/
    //初始化装角色的box
    Main.prototype.initRoleBox = function () {
        this.roleBox = new Laya.Sprite();
        var graphics = new Laya.Graphics();
        graphics.clear();
        graphics.save();
        graphics.alpha(0.6);
        graphics.drawRect(0, 0, Laya.stage.width, this.rowWidth() * 10, '#000000');
        graphics.restore();
        this.roleBox.graphics = graphics;
        this.roleBox.width = Laya.stage.width;
        this.roleBox.height = this.rowWidth() * 10;
        this.roleBox.pos(0, 0);
        Laya.stage.addChild(this.roleBox);
        this.initStarArray();
    };
    //产生10行10列
    Main.prototype.initStarArray = function () {
        var m = 0;
        for (var i = 0; i < this.row; ++i) {
            this.starArr[i] = [];
            this.roleArr[i] = []; //初始化角色行
            for (var j = 0; j < this.clos; ++j) {
                var rnd = this.randomNum(1, 5);
                this.starArr[i][j] = rnd;
                //初始化角色列
                var sp = new Laya.Sprite();
                sp.loadImage("images/" + this.IMGARR[rnd - 1] + ".png");
                sp.width = 56 * Laya.Browser.window.scX;
                sp.height = 51 * Laya.Browser.window.scX;
                sp.index = m++;
                sp.pos((this.rowWidth() - sp.width) / 2 + this.rowWidth() * i, (this.rowWidth() - sp.height) / 2 + this.rowWidth() * j);
                sp.on(Laya.Event.CLICK, this, this.roleClick); //添加元素点击事件
                this.roleBox.addChild(sp);
                this.roleArr[i][j] = sp;
            }
        }
    };
    //星星点击操作，在每一个消除星星处都要播放一个动画
    Main.prototype.roleClick = function (e) {
        if (this.gameEnd)
            return;
        this.gameEnd = true;
        var events = e.target;
        this.commStar = [];
        this.getCommStar(events.index);
        //下一步消除元素
        this.clearStar(this.commStar);
    };
    Main.prototype.rowWidth = function () {
        return Laya.stage.width / 10;
    };
    //判断游戏是否结束
    Main.prototype.gameOver = function () {
        for (var i = 0; i < 100; i++) {
            if (!this.starArr[i])
                continue; // 已经消去的，跳过
            var position = this.getPos(i); //获取坐标位置
            var position1 = this.getPos(i - 1); //获取坐标位置
            var position2 = this.getPos(i + 1); //获取坐标位置
            var position3 = this.getPos(i - 10); //获取坐标位置
            var position4 = this.getPos(i + 10); //获取坐标位置
            if (position.x > 0 && this.starArr[position3.x][position3.y] == this.starArr[position.x][position.y]) {
                return false;
            }
            if (position.x < 9 && this.starArr[position4.x][position4.y] == this.starArr[position.x][position.y]) {
                return false;
            }
            if (position.y > 0 && this.starArr[position1.x][position1.y] == this.starArr[position.x][position.y]) {
                return false;
            }
            if (position.y < 9 && this.starArr[position2.x][position2.y] == this.starArr[position.x][position.y]) {
                return false;
            }
        }
        return true;
    };
    //转换为对应二维数组坐标
    Main.prototype.getPos = function (index) {
        return { x: Math.floor(index / this.row), y: index % this.row }; // game.row =10 
    };
    //获取相同的星星的集合
    Main.prototype.getCommStar = function (index) {
        this.commStar.push(index); //存储进去
        // game.getImg(index).className = "on"; //设置亮图
        this.setRoleSelect(index);
        var position = this.getPos(index); //获取坐标位置
        var position1 = this.getPos(index - 1); //获取坐标位置
        var position2 = this.getPos(index + 1); //获取坐标位置
        var position3 = this.getPos(index - 10); //获取坐标位置
        var position4 = this.getPos(index + 10); //获取坐标位置
        //判断四个方向是否有相同的颜色，而且不存在commStar数组中
        //首先把index传入数组存储，index也就是元素的具体位置0~99,
        //然后根据上下左右去递归
        //上,首先需要判断是否已经在数组中，人后在判断是否两个颜色一致，一致则继续递归,最后需要判断是否越界了
        console.log(position.y);
        //向上查找没问题
        if (position.y > 0 && this.commStar.indexOf(index - 1) < 0 && this.starArr[position1.x][position1.y] == this.starArr[position.x][position.y]) {
            console.log('这是向上查找');
            this.getCommStar(index - 1);
        }
        //向下查找没问题
        if (position.y < 9 && this.commStar.indexOf(index + 1) < 0 && this.starArr[position2.x][position2.y] == this.starArr[position.x][position.y]) {
            console.log('这是向下查找');
            this.getCommStar(index + 1);
        }
        if (position.x > 0 && this.commStar.indexOf(index - 10) < 0 && this.starArr[position3.x][position3.y] == this.starArr[position.x][position.y]) {
            console.log('这是向左查找');
            this.getCommStar(index - 10);
        }
        if (position.x < 9 && this.commStar.indexOf(index + 10) < 0 && this.starArr[position4.x][position4.y] == this.starArr[position.x][position.y]) {
            console.log('这是向右查找');
            this.getCommStar(index + 10);
        }
    };
    //设置元素选中
    Main.prototype.setRoleSelect = function (index) {
        //设置元素选中
        for (var i = 0; i < this.roleBox._children.length; ++i) {
            if (this.roleBox._children[i].index == index)
                this.roleBox._children[i].rotation = 30;
        }
    };
    //清除元素选中
    Main.prototype.clearRoleSelect = function () {
        for (var i = 0; i < this.roleBox._children.length; ++i) {
            this.roleBox._children[i].rotation = 0;
        }
    };
    //消除星星
    Main.prototype.clearStar = function (clearArr) {
        var _this = this;
        //消除
        console.log(clearArr);
        if (clearArr.length < 2) {
            this.gameEnd = false;
            this.clearRoleSelect();
            return;
        }
        var removeChildArr = [];
        setTimeout(function () {
            for (var i = 0; i < _this.roleBox._children.length; ++i) {
                if (clearArr.indexOf(_this.roleBox._children[i].index) != -1) {
                    var position = _this.roleBox._children[i].index;
                    removeChildArr.push(_this.roleBox._children[i]);
                    _this.starArr[_this.getPos(position).x][_this.getPos(position).y] = 0; //设置对应的下标为0
                }
            }
            //移除
            for (var i = 0; i < removeChildArr.length; ++i)
                _this.roleBox.removeChild(removeChildArr[i]);
            _this.moveDown();
            _this.moveLeft();
        }, 1000);
    };
    //向下移动
    Main.prototype.moveDown = function () {
        for (var i = 0; i < 10; i++) // 循环最下面一行的10列
         {
            var c = 0; // 每列被消去的星星数量
            for (var j = 9 + i * 10; j >= i * 10; j--) // 循环每列的10个星星
             {
                var position = this.getPos(j);
                if (!this.starArr[position.x][position.y]) {
                    c++;
                }
                else if (c) {
                    var position1 = this.getPos(j + c);
                    this.starArr[position1.x][position1.y] = this.starArr[position.x][position.y]; //重置移动后的星星数组值
                    this.starArr[position.x][position.y] = 0;
                    this.moveRole(j, j + c, 1);
                }
            }
        }
    };
    Main.prototype.moveRole = function (s, e, type) {
        var _this = this;
        //s代表开始位置，e代表结束位置
        // console.log(s,e,'开始结束位置');
        var position = this.getPos(s); //移动开始点
        var position1 = this.getPos(e); //移动终点
        //如何移动，已经删除了某些元素
        for (var i = 0; i < this.roleBox._children.length; ++i) {
            if (this.roleBox._children[i].index == s) {
                //代表当前下标相等
                this.roleBox._children[i].index = e;
                // this.roleBox._children[i].y=(this.rowWidth()-this.roleBox._children[i].height)/2+position1.y*this.rowWidth();
                if (type == 1) {
                    Laya.Tween.to(this.roleBox._children[i], {
                        y: (this.rowWidth() - this.roleBox._children[i].height) / 2 + position1.y * this.rowWidth(), update: Laya.Handler.create(this, function (e) {
                        })
                    }, 100, Laya.Ease.linearOut, Laya.Handler.create(this, function (e) {
                    }), 0);
                }
                else {
                    Laya.Tween.to(this.roleBox._children[i], {
                        x: (this.rowWidth() - this.roleBox._children[i].width) / 2 + position1.x * this.rowWidth(), update: Laya.Handler.create(this, function (e) {
                        })
                    }, 100, Laya.Ease.linearOut, Laya.Handler.create(this, function (e) {
                    }), 0);
                }
                break;
            }
        }
        setTimeout(function () {
            if (_this.gameOver()) {
                console.log('游戏结束');
                _this.roleBox.removeChildren();
                //重新初始化游戏
                _this.initStarArray();
            }
            else {
                _this.gameEnd = false;
            }
        }, 120);
    };
    //所有星星向左移动
    Main.prototype.moveLeft = function () {
        var line = 0, t = 1; // line 需要移动的列数，t 当前列是否都为0
        for (var i = 0; i < 10; i++) {
            t = 1;
            for (var j = 9 + i * 10; j >= i * 10; j--) {
                var position = this.getPos(j);
                if (this.starArr[position.x][position.y]) {
                    t = 0;
                    break;
                } //判断这一行是否还有物体
            }
            if (t) //当前列都为0 ,需要移动的列数+1
             {
                line++;
            }
            else if (line) // 当前列还有未消除的星星，且要移动的列数>0时，移动当前列
             {
                this.moveLeftLine(i, line);
            }
        }
    };
    //正规向左移动
    Main.prototype.moveLeftLine = function (index, line) {
        //移动元素
        for (var j = 9 + index * 10; j >= index * 10; j--) {
            var position1 = this.getPos(j - line * 10);
            var position = this.getPos(j);
            this.starArr[position1.x][position1.y] = this.starArr[position.x][position.y]; //重置移动后的星星数组值
            this.starArr[position.x][position.y] = 0;
            this.moveRole(j, j - line * 10, 2);
        }
    };
    //获取随机数
    Main.prototype.randomNum = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkEsZ0dBQWdHOztBQUVoRzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7SUFFakQsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLEVBQUUsQ0FBQztJQUNsQixvQkFBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBSyxHQUFTLEtBQUssQ0FBQztJQUNwQixlQUFJLEdBQVMsS0FBSyxDQUFDO0lBQ25CLHVCQUFZLEdBQVMsS0FBSyxDQUFDO0lBQzNCLDRCQUFpQixHQUFTLElBQUksQ0FBQztJQU0xQyxpQkFBQztDQWxCRCxBQWtCQyxJQUFBO2tCQWxCb0IsVUFBVTtBQW1CL0IsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDOzs7O0FDeEJsQiwyQ0FBc0M7QUFDdEM7SUFVQztRQVJRLFlBQU8sR0FBZSxFQUFFLENBQUM7UUFDekIsUUFBRyxHQUFXLEVBQUUsQ0FBQztRQUNqQixTQUFJLEdBQVcsRUFBRSxDQUFDO1FBQ2xCLGFBQVEsR0FBZSxFQUFFLENBQUM7UUFFMUIsV0FBTSxHQUFlLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFB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QyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUUsUUFBUTtZQUNsRCxJQUFJLFNBQVMsR0FBUSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFFLFFBQVE7WUFDbEQsSUFBSSxTQUFTLEdBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBRSxRQUFRO1lBQ25ELElBQUksU0FBUyxHQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUUsUUFBUTtZQUNuRCxJQUFJLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3JHLE9BQU8sS0FBSyxDQUFDO2FBQ2I7WUFDRCxJQUFJLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3JHLE9BQU8sS0FBSyxDQUFDO2FBQ2I7WUFDRCxJQUFJLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3JHLE9BQU8sS0FBSyxDQUFDO2FBQ2I7WUFD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QUFBRCxDQTlSQSxBQThSQyxJQUFBO0FBQ0QsT0FBTztBQUNQLElBQUksSUFBSSxFQUFFLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcblxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NzUwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTMzNDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuXHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRwcml2YXRlIHNjZW5lOiBhbnk7XHJcblx0cHJpdmF0ZSBzdGFyQXJyOiBBcnJheTxhbnk+ID0gW107XHJcblx0cHJpdmF0ZSByb3c6IG51bWJlciA9IDEwO1xyXG5cdHByaXZhdGUgY2xvczogbnVtYmVyID0gMTA7XHJcblx0cHJpdmF0ZSBjb21tU3RhcjogQXJyYXk8YW55PiA9IFtdO1xyXG5cdHByaXZhdGUgcm9sZUJveDogTGF5YS5TcHJpdGU7XHJcblx0cHJpdmF0ZSBJTUdBUlI6IEFycmF5PGFueT4gPSBbJ3JlZCcsICdibHVlJywgJ2dheScsICd5ZWxsb3cnLCAnZ3JlZW4nXTtcclxuXHRwcml2YXRlIGdhbWVFbmQ6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpua4uOaIj+e7k+adn1xyXG5cdHByaXZhdGUgcm9sZUFycjogQXJyYXk8YW55PiA9IFtdOy8v6KeS6Imy5pWw57uEXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblx0XHRMYXlhLkJyb3dzZXIud2luZG93LnNjWCA9IDM3NSAvIExheWEuQnJvd3Nlci53aWR0aDtcclxuXHRcdExheWEuc3RhZ2Uud2lkdGggPSA3NTAgKiBMYXlhLkJyb3dzZXIud2luZG93LnNjWDtcclxuXHRcdExheWEuc3RhZ2UuaGVpZ2h0ID0gMTMzNCAqIExheWEuQnJvd3Nlci53aW5kb3cuc2NYO1xyXG5cdFx0TGF5YS5zdGFnZS5iZ0NvbG9yID0gJyNmZmYnO1xyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0XHRjb25zb2xlLmxvZygn5pi+56S65LqGJylcclxuXHRcdHRoaXMuaW5pdFJvbGVCb3goKTtcclxuXHR9XHJcblx0LyoqKioqKioqKioqKirmraPlvI/kvb/nlKgqKioqKioqKioqKioqKi9cclxuXHQvL+WIneWni+WMluijheinkuiJsueahGJveFxyXG5cdHByaXZhdGUgaW5pdFJvbGVCb3goKTogdm9pZCB7XHJcblx0XHR0aGlzLnJvbGVCb3ggPSBuZXcgTGF5YS5TcHJpdGUoKTtcclxuXHRcdGxldCBncmFwaGljcyA9IG5ldyBMYXlhLkdyYXBoaWNzKCk7XHJcblx0XHRncmFwaGljcy5jbGVhcigpO1xyXG5cdFx0Z3JhcGhpY3Muc2F2ZSgpO1xyXG5cdFx0Z3JhcGhpY3MuYWxwaGEoMC42KTtcclxuXHRcdGdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIExheWEuc3RhZ2Uud2lkdGgsIHRoaXMucm93V2lkdGgoKSAqIDEwLCAnIzAwMDAwMCcpO1xyXG5cdFx0Z3JhcGhpY3MucmVzdG9yZSgpO1xyXG5cdFx0dGhpcy5yb2xlQm94LmdyYXBoaWNzID0gZ3JhcGhpY3M7XHJcblx0XHR0aGlzLnJvbGVCb3gud2lkdGggPSBMYXlhLnN0YWdlLndpZHRoO1xyXG5cdFx0dGhpcy5yb2xlQm94LmhlaWdodCA9IHRoaXMucm93V2lkdGgoKSAqIDEwO1xyXG5cdFx0dGhpcy5yb2xlQm94LnBvcygwLCAwKTtcclxuXHRcdExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5yb2xlQm94KTtcclxuXHRcdHRoaXMuaW5pdFN0YXJBcnJheSgpO1xyXG5cdH1cclxuXHQvL+S6p+eUnzEw6KGMMTDliJdcclxuXHRwcml2YXRlIGluaXRTdGFyQXJyYXkoKTogdm9pZCB7XHJcblx0XHRsZXQgbTogbnVtYmVyID0gMDtcclxuXHRcdGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLnJvdzsgKytpKSB7XHJcblx0XHRcdHRoaXMuc3RhckFycltpXSA9IFtdO1xyXG5cdFx0XHR0aGlzLnJvbGVBcnJbaV0gPSBbXTsgIC8v5Yid5aeL5YyW6KeS6Imy6KGMXHJcblx0XHRcdGZvciAobGV0IGo6IG51bWJlciA9IDA7IGogPCB0aGlzLmNsb3M7ICsraikge1xyXG5cdFx0XHRcdGxldCBybmQ6IG51bWJlciA9IHRoaXMucmFuZG9tTnVtKDEsIDUpO1xyXG5cdFx0XHRcdHRoaXMuc3RhckFycltpXVtqXSA9IHJuZFxyXG5cdFx0XHRcdC8v5Yid5aeL5YyW6KeS6Imy5YiXXHJcblx0XHRcdFx0bGV0IHNwOiBhbnkgPSBuZXcgTGF5YS5TcHJpdGUoKTtcclxuXHRcdFx0XHRzcC5sb2FkSW1hZ2UoYGltYWdlcy8ke3RoaXMuSU1HQVJSW3JuZCAtIDFdfS5wbmdgKTtcclxuXHRcdFx0XHRzcC53aWR0aCA9IDU2ICogTGF5YS5Ccm93c2VyLndpbmRvdy5zY1g7XHJcblx0XHRcdFx0c3AuaGVpZ2h0ID0gNTEgKiBMYXlhLkJyb3dzZXIud2luZG93LnNjWDtcclxuXHRcdFx0XHRzcC5pbmRleCA9IG0rKztcclxuXHRcdFx0XHRzcC5wb3MoKHRoaXMucm93V2lkdGgoKSAtIHNwLndpZHRoKSAvIDIgKyB0aGlzLnJvd1dpZHRoKCkgKiBpLCAodGhpcy5yb3dXaWR0aCgpIC0gc3AuaGVpZ2h0KSAvIDIgKyB0aGlzLnJvd1dpZHRoKCkgKiBqKTtcclxuXHRcdFx0XHRzcC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnJvbGVDbGljayk7IC8v5re75Yqg5YWD57Sg54K55Ye75LqL5Lu2XHJcblx0XHRcdFx0dGhpcy5yb2xlQm94LmFkZENoaWxkKHNwKTtcclxuXHRcdFx0XHR0aGlzLnJvbGVBcnJbaV1bal0gPSBzcDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly/mmJ/mmJ/ngrnlh7vmk43kvZzvvIzlnKjmr4/kuIDkuKrmtojpmaTmmJ/mmJ/lpITpg73opoHmkq3mlL7kuIDkuKrliqjnlLtcclxuXHRwcml2YXRlIHJvbGVDbGljayhlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5nYW1lRW5kKSByZXR1cm47XHJcblx0XHR0aGlzLmdhbWVFbmQ9dHJ1ZTtcclxuXHRcdGxldCBldmVudHM6IGFueSA9IGUudGFyZ2V0O1xyXG5cdFx0dGhpcy5jb21tU3RhciA9IFtdO1xyXG5cdFx0dGhpcy5nZXRDb21tU3RhcihldmVudHMuaW5kZXgpO1xyXG5cdFx0Ly/kuIvkuIDmraXmtojpmaTlhYPntKBcclxuXHRcdHRoaXMuY2xlYXJTdGFyKHRoaXMuY29tbVN0YXIpO1xyXG5cdH1cclxuXHRwcml2YXRlIHJvd1dpZHRoKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gTGF5YS5zdGFnZS53aWR0aCAvIDEwO1xyXG5cdH1cclxuXHQvL+WIpOaWrea4uOaIj+aYr+WQpue7k+adn1xyXG5cdHByaXZhdGUgZ2FtZU92ZXIoKTogYm9vbGVhbiB7Ly/lnZDmoIfovazmjaLmnInpl67pophcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuXHRcdFx0aWYgKCF0aGlzLnN0YXJBcnJbaV0pIGNvbnRpbnVlOyAvLyDlt7Lnu4/mtojljrvnmoTvvIzot7Pov4dcclxuXHRcdFx0bGV0IHBvc2l0aW9uOiBhbnkgPSB0aGlzLmdldFBvcyhpKTsgIC8v6I635Y+W5Z2Q5qCH5L2N572uXHJcblx0XHRcdGxldCBwb3NpdGlvbjE6IGFueSA9IHRoaXMuZ2V0UG9zKGkgLSAxKTsgIC8v6I635Y+W5Z2Q5qCH5L2N572uXHJcblx0XHRcdGxldCBwb3NpdGlvbjI6IGFueSA9IHRoaXMuZ2V0UG9zKGkgKyAxKTsgIC8v6I635Y+W5Z2Q5qCH5L2N572uXHJcblx0XHRcdGxldCBwb3NpdGlvbjM6IGFueSA9IHRoaXMuZ2V0UG9zKGkgLSAxMCk7ICAvL+iOt+WPluWdkOagh+S9jee9rlxyXG5cdFx0XHRsZXQgcG9zaXRpb240OiBhbnkgPSB0aGlzLmdldFBvcyhpICsgMTApOyAgLy/ojrflj5blnZDmoIfkvY3nva5cclxuXHRcdFx0aWYgKHBvc2l0aW9uLnggPiAwICYmIHRoaXMuc3RhckFycltwb3NpdGlvbjMueF1bcG9zaXRpb24zLnldID09IHRoaXMuc3RhckFycltwb3NpdGlvbi54XVtwb3NpdGlvbi55XSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocG9zaXRpb24ueCA8IDkgJiYgdGhpcy5zdGFyQXJyW3Bvc2l0aW9uNC54XVtwb3NpdGlvbjQueV0gPT0gdGhpcy5zdGFyQXJyW3Bvc2l0aW9uLnhdW3Bvc2l0aW9uLnldKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwb3NpdGlvbi55ID4gMCAmJiB0aGlzLnN0YXJBcnJbcG9zaXRpb24xLnhdW3Bvc2l0aW9uMS55XSA9PSB0aGlzLnN0YXJBcnJbcG9zaXRpb24ueF1bcG9zaXRpb24ueV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHBvc2l0aW9uLnkgPCA5ICYmIHRoaXMuc3RhckFycltwb3NpdGlvbjIueF1bcG9zaXRpb24yLnldID09IHRoaXMuc3RhckFycltwb3NpdGlvbi54XVtwb3NpdGlvbi55XSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdC8v6L2s5o2i5Li65a+55bqU5LqM57u05pWw57uE5Z2Q5qCHXHJcblx0cHJpdmF0ZSBnZXRQb3MoaW5kZXg6IG51bWJlcik6IGFueSB7XHJcblx0XHRyZXR1cm4geyB4OiBNYXRoLmZsb29yKGluZGV4IC8gdGhpcy5yb3cpLCB5OiBpbmRleCAlIHRoaXMucm93IH07IC8vIGdhbWUucm93ID0xMCBcclxuXHR9XHJcblx0Ly/ojrflj5bnm7jlkIznmoTmmJ/mmJ/nmoTpm4blkIhcclxuXHRwcml2YXRlIGdldENvbW1TdGFyKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdHRoaXMuY29tbVN0YXIucHVzaChpbmRleCk7ICAvL+WtmOWCqOi/m+WOu1xyXG5cdFx0Ly8gZ2FtZS5nZXRJbWcoaW5kZXgpLmNsYXNzTmFtZSA9IFwib25cIjsgLy/orr7nva7kuq7lm75cclxuXHRcdHRoaXMuc2V0Um9sZVNlbGVjdChpbmRleCk7XHJcblx0XHRsZXQgcG9zaXRpb246IGFueSA9IHRoaXMuZ2V0UG9zKGluZGV4KTsgIC8v6I635Y+W5Z2Q5qCH5L2N572uXHJcblx0XHRsZXQgcG9zaXRpb24xOiBhbnkgPSB0aGlzLmdldFBvcyhpbmRleCAtIDEpOyAgLy/ojrflj5blnZDmoIfkvY3nva5cclxuXHRcdGxldCBwb3NpdGlvbjI6IGFueSA9IHRoaXMuZ2V0UG9zKGluZGV4ICsgMSk7ICAvL+iOt+WPluWdkOagh+S9jee9rlxyXG5cdFx0bGV0IHBvc2l0aW9uMzogYW55ID0gdGhpcy5nZXRQb3MoaW5kZXggLSAxMCk7ICAvL+iOt+WPluWdkOagh+S9jee9rlxyXG5cdFx0bGV0IHBvc2l0aW9uNDogYW55ID0gdGhpcy5nZXRQb3MoaW5kZXggKyAxMCk7ICAvL+iOt+WPluWdkOagh+S9jee9rlxyXG5cdFx0Ly/liKTmlq3lm5vkuKrmlrnlkJHmmK/lkKbmnInnm7jlkIznmoTpopzoibLvvIzogIzkuJTkuI3lrZjlnKhjb21tU3RhcuaVsOe7hOS4rVxyXG5cdFx0Ly/pppblhYjmioppbmRleOS8oOWFpeaVsOe7hOWtmOWCqO+8jGluZGV45Lmf5bCx5piv5YWD57Sg55qE5YW35L2T5L2N572uMH45OSxcclxuXHRcdC8v54S25ZCO5qC55o2u5LiK5LiL5bem5Y+z5Y676YCS5b2SXHJcblx0XHQvL+S4iizpppblhYjpnIDopoHliKTmlq3mmK/lkKblt7Lnu4/lnKjmlbDnu4TkuK3vvIzkurrlkI7lnKjliKTmlq3mmK/lkKbkuKTkuKrpopzoibLkuIDoh7TvvIzkuIDoh7TliJnnu6fnu63pgJLlvZIs5pyA5ZCO6ZyA6KaB5Yik5pat5piv5ZCm6LaK55WM5LqGXHJcblx0XHRjb25zb2xlLmxvZyhwb3NpdGlvbi55KVxyXG5cdFx0Ly/lkJHkuIrmn6Xmib7msqHpl67pophcclxuXHRcdGlmIChwb3NpdGlvbi55ID4gMCAmJiB0aGlzLmNvbW1TdGFyLmluZGV4T2YoaW5kZXggLSAxKSA8IDAgJiYgdGhpcy5zdGFyQXJyW3Bvc2l0aW9uMS54XVtwb3NpdGlvbjEueV0gPT0gdGhpcy5zdGFyQXJyW3Bvc2l0aW9uLnhdW3Bvc2l0aW9uLnldKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCfov5nmmK/lkJHkuIrmn6Xmib4nKTtcclxuXHRcdFx0dGhpcy5nZXRDb21tU3RhcihpbmRleCAtIDEpO1xyXG5cdFx0fVxyXG5cdFx0Ly/lkJHkuIvmn6Xmib7msqHpl67pophcclxuXHRcdGlmIChwb3NpdGlvbi55IDwgOSAmJiB0aGlzLmNvbW1TdGFyLmluZGV4T2YoaW5kZXggKyAxKSA8IDAgJiYgdGhpcy5zdGFyQXJyW3Bvc2l0aW9uMi54XVtwb3NpdGlvbjIueV0gPT0gdGhpcy5zdGFyQXJyW3Bvc2l0aW9uLnhdW3Bvc2l0aW9uLnldKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCfov5nmmK/lkJHkuIvmn6Xmib4nKTtcclxuXHRcdFx0dGhpcy5nZXRDb21tU3RhcihpbmRleCArIDEpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHBvc2l0aW9uLnggPiAwICYmIHRoaXMuY29tbVN0YXIuaW5kZXhPZihpbmRleCAtIDEwKSA8IDAgJiYgdGhpcy5zdGFyQXJyW3Bvc2l0aW9uMy54XVtwb3NpdGlvbjMueV0gPT0gdGhpcy5zdGFyQXJyW3Bvc2l0aW9uLnhdW3Bvc2l0aW9uLnldKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCfov5nmmK/lkJHlt6bmn6Xmib4nKTtcclxuXHRcdFx0dGhpcy5nZXRDb21tU3RhcihpbmRleCAtIDEwKTtcclxuXHRcdH1cclxuXHRcdGlmIChwb3NpdGlvbi54IDwgOSAmJiB0aGlzLmNvbW1TdGFyLmluZGV4T2YoaW5kZXggKyAxMCkgPCAwICYmIHRoaXMuc3RhckFycltwb3NpdGlvbjQueF1bcG9zaXRpb240LnldID09IHRoaXMuc3RhckFycltwb3NpdGlvbi54XVtwb3NpdGlvbi55XSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygn6L+Z5piv5ZCR5Y+z5p+l5om+Jyk7XHJcblx0XHRcdHRoaXMuZ2V0Q29tbVN0YXIoaW5kZXggKyAxMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8v6K6+572u5YWD57Sg6YCJ5LitXHJcblx0cHJpdmF0ZSBzZXRSb2xlU2VsZWN0KGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdC8v6K6+572u5YWD57Sg6YCJ5LitXHJcblx0XHRmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgdGhpcy5yb2xlQm94Ll9jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRpZiAodGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXS5pbmRleCA9PSBpbmRleCkgdGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXS5yb3RhdGlvbiA9IDMwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvL+a4hemZpOWFg+e0oOmAieS4rVxyXG5cdHByaXZhdGUgY2xlYXJSb2xlU2VsZWN0KCk6IHZvaWQge1xyXG5cdFx0Zm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMucm9sZUJveC5fY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcclxuXHRcdFx0dGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXS5yb3RhdGlvbiA9IDA7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8v5raI6Zmk5pif5pifXHJcblx0cHJpdmF0ZSBjbGVhclN0YXIoY2xlYXJBcnI6IEFycmF5PGFueT4pOiB2b2lkIHtcclxuXHRcdC8v5raI6ZmkXHJcblx0XHRjb25zb2xlLmxvZyhjbGVhckFycilcclxuXHRcdGlmIChjbGVhckFyci5sZW5ndGggPCAyKXt0aGlzLmdhbWVFbmQ9ZmFsc2U7dGhpcy5jbGVhclJvbGVTZWxlY3QoKTtyZXR1cm47fSBcclxuXHRcdGxldCByZW1vdmVDaGlsZEFycjogQXJyYXk8YW55PiA9IFtdO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLnJvbGVCb3guX2NoaWxkcmVuLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdFx0aWYgKGNsZWFyQXJyLmluZGV4T2YodGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXS5pbmRleCkgIT0gLTEpIHtcclxuXHRcdFx0XHRcdGxldCBwb3NpdGlvbjogYW55ID0gdGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXS5pbmRleDtcclxuXHRcdFx0XHRcdHJlbW92ZUNoaWxkQXJyLnB1c2godGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXSk7XHJcblx0XHRcdFx0XHR0aGlzLnN0YXJBcnJbdGhpcy5nZXRQb3MocG9zaXRpb24pLnhdW3RoaXMuZ2V0UG9zKHBvc2l0aW9uKS55XSA9IDA7IC8v6K6+572u5a+55bqU55qE5LiL5qCH5Li6MFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvL+enu+mZpFxyXG5cdFx0XHRmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgcmVtb3ZlQ2hpbGRBcnIubGVuZ3RoOyArK2kpdGhpcy5yb2xlQm94LnJlbW92ZUNoaWxkKHJlbW92ZUNoaWxkQXJyW2ldKTtcclxuXHRcdFx0dGhpcy5tb3ZlRG93bigpO1xyXG5cdFx0XHR0aGlzLm1vdmVMZWZ0KCk7XHJcblx0XHR9LCAxMDAwKTtcclxuXHJcblx0fVxyXG5cdC8v5ZCR5LiL56e75YqoXHJcblx0cHJpdmF0ZSBtb3ZlRG93bigpOiB2b2lkIHtcclxuXHRcdGZvciAodmFyIGk6IG51bWJlciA9IDA7IGkgPCAxMDsgaSsrKS8vIOW+queOr+acgOS4i+mdouS4gOihjOeahDEw5YiXXHJcblx0XHR7XHJcblx0XHRcdHZhciBjID0gMDsvLyDmr4/liJfooqvmtojljrvnmoTmmJ/mmJ/mlbDph49cclxuXHRcdFx0Zm9yICh2YXIgajogbnVtYmVyID0gOSArIGkgKiAxMDsgaiA+PSBpICogMTA7IGotLSkgLy8g5b6q546v5q+P5YiX55qEMTDkuKrmmJ/mmJ9cclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxldCBwb3NpdGlvbjogYW55ID0gdGhpcy5nZXRQb3Moaik7XHJcblx0XHRcdFx0aWYgKCF0aGlzLnN0YXJBcnJbcG9zaXRpb24ueF1bcG9zaXRpb24ueV0pIHsgXHJcblx0XHRcdFx0XHRjKys7XHJcblx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRpZiAoYykge1xyXG5cdFx0XHRcdFx0XHRsZXQgcG9zaXRpb24xOiBhbnkgPSB0aGlzLmdldFBvcyhqICsgYyk7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhckFycltwb3NpdGlvbjEueF1bcG9zaXRpb24xLnldID0gdGhpcy5zdGFyQXJyW3Bvc2l0aW9uLnhdW3Bvc2l0aW9uLnldOy8v6YeN572u56e75Yqo5ZCO55qE5pif5pif5pWw57uE5YC8XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhckFycltwb3NpdGlvbi54XVtwb3NpdGlvbi55XSA9IDA7XHJcblx0XHRcdFx0XHRcdHRoaXMubW92ZVJvbGUoaiwgaiArIGMsMSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cHJpdmF0ZSBtb3ZlUm9sZShzOiBudW1iZXIsIGU6IG51bWJlciwgdHlwZTogbnVtYmVyKTogdm9pZCB7XHJcblx0XHQvL3Pku6PooajlvIDlp4vkvY3nva7vvIxl5Luj6KGo57uT5p2f5L2N572uXHJcblx0XHQvLyBjb25zb2xlLmxvZyhzLGUsJ+W8gOWni+e7k+adn+S9jee9ricpO1xyXG5cdFx0bGV0IHBvc2l0aW9uOiBhbnkgPSB0aGlzLmdldFBvcyhzKTsgLy/np7vliqjlvIDlp4vngrlcclxuXHRcdGxldCBwb3NpdGlvbjE6IGFueSA9IHRoaXMuZ2V0UG9zKGUpOyAvL+enu+WKqOe7iOeCuVxyXG5cdFx0Ly/lpoLkvZXnp7vliqjvvIzlt7Lnu4/liKDpmaTkuobmn5DkupvlhYPntKBcclxuXHRcdGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLnJvbGVCb3guX2NoaWxkcmVuLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdGlmICh0aGlzLnJvbGVCb3guX2NoaWxkcmVuW2ldLmluZGV4ID09IHMpIHtcclxuXHRcdFx0XHQvL+S7o+ihqOW9k+WJjeS4i+agh+ebuOetiVxyXG5cdFx0XHRcdHRoaXMucm9sZUJveC5fY2hpbGRyZW5baV0uaW5kZXggPSBlO1xyXG5cdFx0XHRcdC8vIHRoaXMucm9sZUJveC5fY2hpbGRyZW5baV0ueT0odGhpcy5yb3dXaWR0aCgpLXRoaXMucm9sZUJveC5fY2hpbGRyZW5baV0uaGVpZ2h0KS8yK3Bvc2l0aW9uMS55KnRoaXMucm93V2lkdGgoKTtcclxuXHRcdFx0XHRpZiAodHlwZSA9PSAxKSB7XHJcblx0XHRcdFx0XHRMYXlhLlR3ZWVuLnRvKHRoaXMucm9sZUJveC5fY2hpbGRyZW5baV0sIHtcclxuXHRcdFx0XHRcdFx0eTogKHRoaXMucm93V2lkdGgoKSAtIHRoaXMucm9sZUJveC5fY2hpbGRyZW5baV0uaGVpZ2h0KSAvIDIgKyBwb3NpdGlvbjEueSAqIHRoaXMucm93V2lkdGgoKSwgdXBkYXRlOiBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGUgPT4ge1xyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0fSwgMTAwLCBMYXlhLkVhc2UubGluZWFyT3V0LCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGUgPT4ge1xyXG5cdFx0XHRcdFx0fSksIDApXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdExheWEuVHdlZW4udG8odGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXSwge1xyXG5cdFx0XHRcdFx0XHR4OiAodGhpcy5yb3dXaWR0aCgpIC0gdGhpcy5yb2xlQm94Ll9jaGlsZHJlbltpXS53aWR0aCkgLyAyICsgcG9zaXRpb24xLnggKiB0aGlzLnJvd1dpZHRoKCksIHVwZGF0ZTogTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBlID0+IHtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH0sIDEwMCwgTGF5YS5FYXNlLmxpbmVhck91dCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBlID0+IHtcclxuXHJcblx0XHRcdFx0XHR9KSwgMClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRpZih0aGlzLmdhbWVPdmVyKCkpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCfmuLjmiI/nu5PmnZ8nKTtcclxuXHRcdFx0XHR0aGlzLnJvbGVCb3gucmVtb3ZlQ2hpbGRyZW4oKTtcclxuXHRcdFx0XHQvL+mHjeaWsOWIneWni+WMlua4uOaIj1xyXG5cdFx0XHRcdHRoaXMuaW5pdFN0YXJBcnJheSgpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR0aGlzLmdhbWVFbmQ9ZmFsc2U7XHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0fSwgMTIwKTtcclxuXHR9XHJcblx0Ly/miYDmnInmmJ/mmJ/lkJHlt6bnp7vliqhcclxuXHRwcml2YXRlIG1vdmVMZWZ0KCk6IHZvaWQge1xyXG5cdFx0dmFyIGxpbmUgPSAwLCB0ID0gMTsvLyBsaW5lIOmcgOimgeenu+WKqOeahOWIl+aVsO+8jHQg5b2T5YmN5YiX5piv5ZCm6YO95Li6MFxyXG5cdFx0Zm9yICh2YXIgaTogbnVtYmVyID0gMDsgaSA8IDEwOyBpKyspIHtcclxuXHRcdFx0dCA9IDE7XHJcblx0XHRcdGZvciAodmFyIGo6IG51bWJlciA9IDkgKyBpICogMTA7IGogPj0gaSAqIDEwOyBqLS0pIHtcclxuXHRcdFx0XHRsZXQgcG9zaXRpb246IGFueSA9IHRoaXMuZ2V0UG9zKGopO1xyXG5cdFx0XHRcdGlmICh0aGlzLnN0YXJBcnJbcG9zaXRpb24ueF1bcG9zaXRpb24ueV0pIHsgdCA9IDA7IGJyZWFrOyB9IC8v5Yik5pat6L+Z5LiA6KGM5piv5ZCm6L+Y5pyJ54mp5L2TXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHQpIC8v5b2T5YmN5YiX6YO95Li6MCAs6ZyA6KaB56e75Yqo55qE5YiX5pWwKzFcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxpbmUrKztcclxuXHRcdFx0fSBlbHNlIGlmIChsaW5lKSAvLyDlvZPliY3liJfov5jmnInmnKrmtojpmaTnmoTmmJ/mmJ/vvIzkuJTopoHnp7vliqjnmoTliJfmlbA+MOaXtu+8jOenu+WKqOW9k+WJjeWIl1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5tb3ZlTGVmdExpbmUoaSwgbGluZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0Ly/mraPop4TlkJHlt6bnp7vliqhcclxuXHRwcml2YXRlIG1vdmVMZWZ0TGluZShpbmRleDogbnVtYmVyLCBsaW5lOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdC8v56e75Yqo5YWD57SgXHJcblx0XHRmb3IgKHZhciBqOiBudW1iZXIgPSA5ICsgaW5kZXggKiAxMDsgaiA+PSBpbmRleCAqIDEwOyBqLS0pIHtcclxuXHRcdFx0bGV0IHBvc2l0aW9uMTogYW55ID0gdGhpcy5nZXRQb3MoaiAtIGxpbmUqMTApO1xyXG5cdFx0XHRsZXQgcG9zaXRpb246IGFueSA9IHRoaXMuZ2V0UG9zKGopO1xyXG5cdFx0XHR0aGlzLnN0YXJBcnJbcG9zaXRpb24xLnhdW3Bvc2l0aW9uMS55XSA9IHRoaXMuc3RhckFycltwb3NpdGlvbi54XVtwb3NpdGlvbi55XTsvL+mHjee9ruenu+WKqOWQjueahOaYn+aYn+aVsOe7hOWAvFxyXG5cdFx0XHR0aGlzLnN0YXJBcnJbcG9zaXRpb24ueF1bcG9zaXRpb24ueV0gPSAwO1xyXG5cdFx0XHR0aGlzLm1vdmVSb2xlKGosIGogLSBsaW5lKjEwLDIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvL+iOt+WPlumaj+acuuaVsFxyXG5cdHB1YmxpYyByYW5kb21OdW0obWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iXX0=
